(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},54858,e=>{"use strict";async function t(e,s={}){let a=localStorage.getItem("token"),l={"Content-Type":"application/json",...s.headers};a&&(l.Authorization=`Bearer ${a}`);let r=e.startsWith("/")?e:`/${e}`,o=await fetch(`https://zhuyin-battle.marmot0814.com${r}`,{...s,headers:l});return(401===o.status||403===o.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),"/"!==window.location.pathname&&"/lobby"!==window.location.pathname&&(window.location.href="/")),o}e.s(["api",()=>t])},85333,47163,e=>{"use strict";var t=e.i(43476),s=e.i(932);function a(e){return e<800?{name:"IRON",nameZh:"éµç‰Œ",color:"text-slate-400"}:e<1e3?{name:"BRONZE",nameZh:"éŠ…ç‰Œ",color:"text-amber-700"}:e<1200?{name:"SILVER",nameZh:"éŠ€ç‰Œ",color:"text-slate-300"}:e<1500?{name:"GOLD",nameZh:"é‡‘ç‰Œ",color:"text-yellow-400"}:e<1800?{name:"PLATINUM",nameZh:"ç™½é‡‘",color:"text-cyan-400"}:e<2200?{name:"DIAMOND",nameZh:"é‘½çŸ³",color:"text-blue-400"}:e<2500?{name:"MASTER",nameZh:"å¤§å¸«",color:"text-purple-400"}:{name:"GRANDMASTER",nameZh:"å®—å¸«",color:"text-red-400"}}function l(e){if(e<30)return"ç·šä¸Š";if(e<60)return"å‰›å‰›ä¸Šç·š";let t=Math.floor(e/60);if(t<60)return`${t} åˆ†é˜å‰`;let s=Math.floor(t/60);if(s<24)return`${s} å°æ™‚å‰`;let a=Math.floor(s/24);return`${a} å¤©å‰`}function r(e){let l,r=(0,s.c)(55),{rating:o,size:d,className:i}=e,n=void 0===d?48:d,{name:x}=a(o),c=`drop-shadow-lg ${void 0===i?"":i}`;r[0]!==n||r[1]!==c?(l={width:n,height:n,viewBox:"0 0 100 100",className:c,fill:"none",xmlns:"http://www.w3.org/2000/svg"},r[0]=n,r[1]=c,r[2]=l):l=r[2];let m=l;switch(x){case"IRON":{let e,s,a,l;return r[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"ironGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#71717a"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#3f3f46"})]})}),s=(0,t.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"url(#ironGrad)",stroke:"#27272a",strokeWidth:"4"}),a=(0,t.jsx)("circle",{cx:"50",cy:"50",r:"30",stroke:"#52525b",strokeWidth:"2",opacity:"0.5"}),r[3]=e,r[4]=s,r[5]=a):(e=r[3],s=r[4],a=r[5]),r[6]!==m?(l=(0,t.jsxs)("svg",{...m,children:[e,s,a]}),r[6]=m,r[7]=l):l=r[7],l}case"BRONZE":{let e,s,a,l;return r[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"bronzeGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#b45309"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#78350f"})]})}),s=(0,t.jsx)("path",{d:"M50 10 L85 30 L75 85 L50 95 L25 85 L15 30 Z",fill:"url(#bronzeGrad)",stroke:"#451a03",strokeWidth:"4"}),a=(0,t.jsx)("path",{d:"M50 20 L75 35 L68 78 L50 85 L32 78 L25 35 Z",stroke:"#92400e",strokeWidth:"2",opacity:"0.5"}),r[8]=e,r[9]=s,r[10]=a):(e=r[8],s=r[9],a=r[10]),r[11]!==m?(l=(0,t.jsxs)("svg",{...m,children:[e,s,a]}),r[11]=m,r[12]=l):l=r[12],l}case"SILVER":{let e,s,a,l;return r[13]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"silverGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#e4e4e7"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#a1a1aa"})]})}),s=(0,t.jsx)("path",{d:"M50 5 L90 25 L80 85 L50 95 L20 85 L10 25 Z",fill:"url(#silverGrad)",stroke:"#52525b",strokeWidth:"4"}),a=(0,t.jsx)("path",{d:"M50 15 L80 30 L72 78 L50 85 L28 78 L20 30 Z",stroke:"#d4d4d8",strokeWidth:"2",opacity:"0.5"}),r[13]=e,r[14]=s,r[15]=a):(e=r[13],s=r[14],a=r[15]),r[16]!==m?(l=(0,t.jsxs)("svg",{...m,children:[e,s,a]}),r[16]=m,r[17]=l):l=r[17],l}case"GOLD":{let e,s,a,l,o,d;return r[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("linearGradient",{id:"goldGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#facc15"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#a16207"})]}),r[18]=e):e=r[18],r[19]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)("defs",{children:[e,(0,t.jsxs)("filter",{id:"glow",children:[(0,t.jsx)("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),(0,t.jsxs)("feMerge",{children:[(0,t.jsx)("feMergeNode",{in:"coloredBlur"}),(0,t.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),a=(0,t.jsx)("path",{d:"M50 2 L95 25 L85 90 L50 98 L15 90 L5 25 Z",fill:"url(#goldGrad)",stroke:"#854d0e",strokeWidth:"4",filter:"url(#glow)"}),l=(0,t.jsx)("path",{d:"M50 15 L82 32 L75 82 L50 88 L25 82 L18 32 Z",stroke:"#fef08a",strokeWidth:"2",opacity:"0.6"}),o=(0,t.jsx)("circle",{cx:"50",cy:"50",r:"15",fill:"#fef08a",opacity:"0.3"}),r[19]=s,r[20]=a,r[21]=l,r[22]=o):(s=r[19],a=r[20],l=r[21],o=r[22]),r[23]!==m?(d=(0,t.jsxs)("svg",{...m,children:[s,a,l,o]}),r[23]=m,r[24]=d):d=r[24],d}case"PLATINUM":{let e,s,a,l,o;return r[25]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"platGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#22d3ee"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#0891b2"})]})}),s=(0,t.jsx)("path",{d:"M50 2 L95 20 L85 85 L50 98 L15 85 L5 20 Z",fill:"url(#platGrad)",stroke:"#164e63",strokeWidth:"4"}),a=(0,t.jsx)("path",{d:"M50 15 L80 30 L75 75 L50 85 L25 75 L20 30 Z",stroke:"#a5f3fc",strokeWidth:"2",opacity:"0.6"}),l=(0,t.jsx)("path",{d:"M50 30 L70 50 L50 70 L30 50 Z",fill:"#ecfeff",opacity:"0.4"}),r[25]=e,r[26]=s,r[27]=a,r[28]=l):(e=r[25],s=r[26],a=r[27],l=r[28]),r[29]!==m?(o=(0,t.jsxs)("svg",{...m,children:[e,s,a,l]}),r[29]=m,r[30]=o):o=r[30],o}case"DIAMOND":{let e,s,a,l,o;return r[31]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"diamondGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#60a5fa"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#2563eb"})]})}),s=(0,t.jsx)("path",{d:"M50 5 L90 35 L50 95 L10 35 Z",fill:"url(#diamondGrad)",stroke:"#1e3a8a",strokeWidth:"4"}),a=(0,t.jsx)("path",{d:"M50 20 L75 40 L50 80 L25 40 Z",fill:"#bfdbfe",opacity:"0.3"}),l=(0,t.jsx)("path",{d:"M50 5 L90 35 M50 95 L90 35 M50 95 L10 35 M50 5 L10 35",stroke:"#93c5fd",strokeWidth:"1"}),r[31]=e,r[32]=s,r[33]=a,r[34]=l):(e=r[31],s=r[32],a=r[33],l=r[34]),r[35]!==m?(o=(0,t.jsxs)("svg",{...m,children:[e,s,a,l]}),r[35]=m,r[36]=o):o=r[36],o}case"MASTER":{let e,s,a,l,o,d;return r[37]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("linearGradient",{id:"masterGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#d8b4fe"}),(0,t.jsx)("stop",{offset:"50%",stopColor:"#a855f7"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#581c87"})]}),r[37]=e):e=r[37],r[38]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)("defs",{children:[e,(0,t.jsxs)("filter",{id:"masterGlow",children:[(0,t.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,t.jsxs)("feMerge",{children:[(0,t.jsx)("feMergeNode",{in:"coloredBlur"}),(0,t.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),a=(0,t.jsx)("path",{d:"M50 5 L63 35 L95 35 L70 55 L80 85 L50 70 L20 85 L30 55 L5 35 L37 35 Z",fill:"url(#masterGrad)",stroke:"#4c1d95",strokeWidth:"2",filter:"url(#masterGlow)"}),l=(0,t.jsx)("path",{d:"M50 25 L58 42 L75 42 L62 52 L67 68 L50 60 L33 68 L38 52 L25 42 L42 42 Z",fill:"#f3e8ff",opacity:"0.5"}),o=(0,t.jsx)("circle",{cx:"50",cy:"50",r:"8",fill:"#ffffff"}),r[38]=s,r[39]=a,r[40]=l,r[41]=o):(s=r[38],a=r[39],l=r[40],o=r[41]),r[42]!==m?(d=(0,t.jsxs)("svg",{...m,children:[s,a,l,o]}),r[42]=m,r[43]=d):d=r[43],d}case"GRANDMASTER":{let e,s,a,l,o,d,i,n,x,c;return r[44]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("linearGradient",{id:"gmGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#fca5a5"}),(0,t.jsx)("stop",{offset:"50%",stopColor:"#ef4444"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#7f1d1d"})]}),r[44]=e):e=r[44],r[45]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)("linearGradient",{id:"gmGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#fde047"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#a16207"})]}),r[45]=s):s=r[45],r[46]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsxs)("defs",{children:[e,s,(0,t.jsxs)("filter",{id:"gmGlow",children:[(0,t.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,t.jsxs)("feMerge",{children:[(0,t.jsx)("feMergeNode",{in:"coloredBlur"}),(0,t.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),n=(0,t.jsx)("path",{d:"M50 95 L20 75 L20 25 L50 10 L80 25 L80 75 Z",fill:"url(#gmGrad)",stroke:"#450a0a",strokeWidth:"3",filter:"url(#gmGlow)"}),x=(0,t.jsx)("path",{d:"M20 25 C 5 25, 5 55, 20 55",fill:"none",stroke:"url(#gmGold)",strokeWidth:"4",strokeLinecap:"round"}),a=(0,t.jsx)("path",{d:"M80 25 C 95 25, 95 55, 80 55",fill:"none",stroke:"url(#gmGold)",strokeWidth:"4",strokeLinecap:"round"}),l=(0,t.jsx)("path",{d:"M50 30 L65 50 L50 75 L35 50 Z",fill:"url(#gmGold)",stroke:"#78350f",strokeWidth:"2"}),o=(0,t.jsx)("circle",{cx:"50",cy:"50",r:"5",fill:"#ffffff",opacity:"0.8"}),d=(0,t.jsx)("path",{d:"M35 25 L35 10 L50 0 L65 10 L65 25",fill:"none",stroke:"url(#gmGold)",strokeWidth:"3"}),r[46]=a,r[47]=l,r[48]=o,r[49]=d,r[50]=i,r[51]=n,r[52]=x):(a=r[46],l=r[47],o=r[48],d=r[49],i=r[50],n=r[51],x=r[52]),r[53]!==m?(c=(0,t.jsxs)("svg",{...m,children:[i,n,x,a,l,o,d]}),r[53]=m,r[54]=c):c=r[54],c}default:return null}}e.s(["AVATAR_OPTIONS",0,["avatar1","avatar2","avatar3","avatar4","avatar5","avatar6","avatar7","avatar8","avatar9","avatar10","avatar11","avatar12","avatar13","avatar14","avatar15","avatar16","avatar17","avatar18","avatar19","avatar20"],"formatLastOnline",()=>l,"getRankInfo",()=>a],47163),e.s(["default",()=>r],85333)},23261,e=>{"use strict";var t=e.i(47167),s=e.i(43476),a=e.i(71645),l=e.i(18566),r=e.i(54858),o=e.i(85333),d=e.i(47163);function i(){let e=(0,l.useRouter)(),[i,n]=(0,a.useState)(!1),[x,c]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[p,f]=(0,a.useState)(""),[j,u]=(0,a.useState)([]),[b,N]=(0,a.useState)([]),[g,y]=(0,a.useState)(null),[v,w]=(0,a.useState)([]),[L,_]=(0,a.useState)([]),[k,M]=(0,a.useState)([]),[G,S]=(0,a.useState)("overview");async function C(e){e.preventDefault(),h(!0),f(""),x===t.default.env.NEXT_PUBLIC_ADMIN_PASSWORD?(n(!0),await R()):f("å¯†ç¢¼éŒ¯èª¤"),h(!1)}async function R(){try{let e=t.default.env.NEXT_PUBLIC_ADMIN_PASSWORD;console.log("Admin password:",e);let s={"x-admin-password":e||""},[a,l,o,d,i,n]=await Promise.all([(0,r.api)("/api/admin/users",{headers:s}),(0,r.api)("/api/admin/friends",{headers:s}),(0,r.api)("/api/admin/stats",{headers:s}),(0,r.api)("/api/admin/rating-distribution",{headers:s}),(0,r.api)("/api/admin/recent-users",{headers:s}),(0,r.api)("/api/matchmaking/active",{headers:s})]);if(console.log("Users response status:",a.status),a.ok){let e=await a.json();console.log("Users data:",e),u(e)}else console.error("Users fetch failed:",await a.text());l.ok&&N(await l.json()),o.ok&&y(await o.json()),d.ok&&w(await d.json()),i.ok&&_(await i.json()),n.ok&&M(await n.json())}catch(e){console.error("Failed to load admin data:",e)}}async function Z(e){if(confirm("ç¢ºå®šè¦åˆªé™¤é€™å ´å°æˆ°å—Žï¼Ÿ"))try{(await (0,r.api)(`/api/admin/battles/${e}`,{method:"DELETE",headers:{"x-admin-password":x}})).ok?M(t=>t.filter(t=>t.id!==e)):alert("åˆªé™¤å¤±æ•—")}catch(e){console.error("Failed to delete battle:",e),alert("åˆªé™¤ç™¼ç”ŸéŒ¯èª¤")}}function I(e){return new Date(e).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}return i?(0,s.jsxs)("div",{className:"min-h-screen bg-[#0f172a] text-slate-200",children:[(0,s.jsx)("nav",{className:"bg-[#1e293b] border-b border-slate-800 sticky top-0 z-50",children:(0,s.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-red-500 rotate-45 flex items-center justify-center",children:(0,s.jsx)("span",{className:"-rotate-45 font-black text-white italic text-lg",children:"ç®¡"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"ç®¡ç†å“¡å¾Œå°"}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"æ³¨éŸ³å°æˆ°ç³»çµ±ç®¡ç†"})]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:R,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors",children:"ðŸ”„ é‡æ–°æ•´ç†"}),(0,s.jsx)("button",{onClick:()=>e.push("/"),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors",children:"è¿”å›žé¦–é "})]})]})})}),(0,s.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,s.jsxs)("div",{className:"flex gap-2 mb-6 border-b border-slate-800",children:[(0,s.jsx)("button",{onClick:()=>S("overview"),className:`px-6 py-3 font-medium transition-colors ${"overview"===G?"text-white border-b-2 border-red-500":"text-slate-400 hover:text-white"}`,children:"ðŸ“Š ç¸½è¦½çµ±è¨ˆ"}),(0,s.jsxs)("button",{onClick:()=>S("users"),className:`px-6 py-3 font-medium transition-colors ${"users"===G?"text-white border-b-2 border-red-500":"text-slate-400 hover:text-white"}`,children:["ðŸ‘¥ ç”¨æˆ¶åˆ—è¡¨ (",j.length,")"]}),(0,s.jsxs)("button",{onClick:()=>S("friends"),className:`px-6 py-3 font-medium transition-colors ${"friends"===G?"text-white border-b-2 border-red-500":"text-slate-400 hover:text-white"}`,children:["ðŸ¤ å¥½å‹é—œä¿‚ (",b.length,")"]}),(0,s.jsxs)("button",{onClick:()=>S("battles"),className:`px-6 py-3 font-medium transition-colors ${"battles"===G?"text-white border-b-2 border-red-500":"text-slate-400 hover:text-white"}`,children:["âš”ï¸ æ´»èºå°æˆ° (",k.length,")"]})]}),"overview"===G&&g&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{className:"bg-[#1e293b] p-6 rounded-xl border border-slate-700",children:[(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"ç¸½ç”¨æˆ¶æ•¸"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-white",children:g.totalUsers})]}),(0,s.jsxs)("div",{className:"bg-[#1e293b] p-6 rounded-xl border border-slate-700",children:[(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"å¥½å‹é—œä¿‚æ•¸"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-green-400",children:g.totalFriendships})]}),(0,s.jsxs)("div",{className:"bg-[#1e293b] p-6 rounded-xl border border-slate-700",children:[(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"å¾…è™•ç†è«‹æ±‚"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-amber-400",children:g.pendingFriendRequests})]}),(0,s.jsxs)("div",{className:"bg-[#1e293b] p-6 rounded-xl border border-slate-700",children:[(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"å¹³å‡ Rating"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-indigo-400",children:g.averageRating})]}),(0,s.jsxs)("div",{className:"bg-[#1e293b] p-6 rounded-xl border border-slate-700",children:[(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"ç¸½å°æˆ°å ´æ¬¡"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-purple-400",children:g.totalGamesPlayed})]})]}),(0,s.jsxs)("div",{className:"bg-[#1e293b] p-6 rounded-xl border border-slate-700",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"æ®µä½åˆ†å¸ƒ"}),(0,s.jsx)("div",{className:"space-y-3",children:v.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-48 text-slate-300 font-medium",children:e.rank}),(0,s.jsx)("div",{className:"flex-1 bg-slate-800 rounded-full h-8 overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-indigo-600 to-purple-600 flex items-center justify-end px-3",style:{width:`${Math.max(parseInt(e.count)/j.filter(e=>e.games_played>=10).length*100,5)}%`},children:(0,s.jsx)("span",{className:"text-white font-bold text-sm",children:e.count})})})]},e.rank))})]}),(0,s.jsxs)("div",{className:"bg-[#1e293b] p-6 rounded-xl border border-slate-700",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"æœ€è¿‘è¨»å†Šç”¨æˆ¶"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium",children:"ID"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium",children:"ç”¨æˆ¶å"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium",children:"Email"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium",children:"Rating"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium",children:"å°æˆ°å ´æ¬¡"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium",children:"è¨»å†Šæ™‚é–“"})]})}),(0,s.jsx)("tbody",{children:L.map(e=>(0,s.jsxs)("tr",{className:"border-b border-slate-800 hover:bg-slate-800/50",children:[(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300",children:e.id}),(0,s.jsx)("td",{className:"py-3 px-4 text-white font-medium",children:e.username}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300 text-sm",children:e.email}),(0,s.jsx)("td",{className:"py-3 px-4 text-amber-400 font-bold",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 group relative",children:[(0,s.jsx)(o.default,{rating:e.rating,size:24}),(0,s.jsx)("span",{children:e.rating}),(0,s.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-slate-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10 border border-slate-700",children:(0,d.getRankInfo)(e.rating).nameZh})]})}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300",children:e.games_played}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-400 text-sm",children:I(e.created_at)})]},e.id))})]})})]})]}),"users"===G&&(0,s.jsx)("div",{className:"bg-[#1e293b] rounded-xl border border-slate-700 overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-slate-800/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"é ­åƒ"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"ç”¨æˆ¶å"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"Email"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"Rating"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"ç©åˆ†å°æˆ° (å‹/æ•—/å ´/çŽ‡)"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"ä¸€èˆ¬å°æˆ° (å‹/æ•—/å ´/çŽ‡)"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"å¥½å‹å°æˆ° (å‹/æ•—/å ´/çŽ‡)"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"ä¸Šç·šç‹€æ…‹"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"è¨»å†Šæ™‚é–“"})]})}),(0,s.jsx)("tbody",{children:j.map((e,t)=>(0,s.jsxs)("tr",{className:`border-b border-slate-800 hover:bg-slate-800/30 ${t%2==0?"bg-slate-900/20":""}`,children:[(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)("img",{src:e.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${e.username}`,alt:e.username,className:"w-10 h-10 rounded-full border-2 border-slate-600"})}),(0,s.jsx)("td",{className:"py-3 px-4 text-white font-medium",children:e.username}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300 text-sm",children:e.email}),(0,s.jsx)("td",{className:"py-3 px-4 text-amber-400 font-bold",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 group relative",children:[(0,s.jsx)(o.default,{rating:e.rating,size:32}),(0,s.jsx)("span",{children:e.rating}),(0,s.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-slate-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10 border border-slate-700",children:(0,d.getRankInfo)(e.rating).nameZh})]})}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300",children:(0,s.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,s.jsxs)("span",{className:"text-green-400",children:["å‹: ",e.ranked_games_won||0]}),(0,s.jsxs)("span",{className:"text-red-400",children:["æ•—: ",(e.ranked_games_played||0)-(e.ranked_games_won||0)]}),(0,s.jsxs)("span",{children:["å ´: ",e.ranked_games_played||0]}),(0,s.jsx)("span",{className:"text-slate-400",children:e.ranked_games_played>0?`${Math.round(e.ranked_games_won/e.ranked_games_played*100)}%`:"0%"})]})}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300",children:(0,s.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,s.jsxs)("span",{className:"text-green-400",children:["å‹: ",e.casual_games_won||0]}),(0,s.jsxs)("span",{className:"text-red-400",children:["æ•—: ",(e.casual_games_played||0)-(e.casual_games_won||0)]}),(0,s.jsxs)("span",{children:["å ´: ",e.casual_games_played||0]}),(0,s.jsx)("span",{className:"text-slate-400",children:e.casual_games_played>0?`${Math.round(e.casual_games_won/e.casual_games_played*100)}%`:"0%"})]})}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300",children:(0,s.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,s.jsxs)("span",{className:"text-green-400",children:["å‹: ",e.custom_games_won||0]}),(0,s.jsxs)("span",{className:"text-red-400",children:["æ•—: ",(e.custom_games_played||0)-(e.custom_games_won||0)]}),(0,s.jsxs)("span",{children:["å ´: ",e.custom_games_played||0]}),(0,s.jsx)("span",{className:"text-slate-400",children:e.custom_games_played>0?`${Math.round(e.custom_games_won/e.custom_games_played*100)}%`:"0%"})]})}),(0,s.jsx)("td",{className:"py-3 px-4",children:function(e){if(e<300)return(0,s.jsx)("span",{className:"text-green-400",children:"â— ç·šä¸Š"});let t=Math.floor(e/60);if(t<60)return(0,s.jsxs)("span",{className:"text-slate-400",children:[t," åˆ†é˜å‰"]});let a=Math.floor(t/60);if(a<24)return(0,s.jsxs)("span",{className:"text-slate-400",children:[a," å°æ™‚å‰"]});let l=Math.floor(a/24);return(0,s.jsxs)("span",{className:"text-slate-400",children:[l," å¤©å‰"]})}(e.seconds_offline)}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-400 text-sm",children:I(e.created_at)})]},e.id))})]})})}),"friends"===G&&(0,s.jsx)("div",{className:"bg-[#1e293b] rounded-xl border border-slate-700 overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-slate-800/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"é—œä¿‚ ID"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"ç”¨æˆ¶ ID"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"ç”¨æˆ¶å"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"ç”¨æˆ¶ Email"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"å¥½å‹ ID"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"å¥½å‹å"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"å¥½å‹ Email"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"ç‹€æ…‹"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"å»ºç«‹æ™‚é–“"})]})}),(0,s.jsx)("tbody",{children:b.map((e,t)=>(0,s.jsxs)("tr",{className:`border-b border-slate-800 hover:bg-slate-800/30 ${t%2==0?"bg-slate-900/20":""}`,children:[(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300 font-mono",children:e.id}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300 font-mono",children:e.user_id}),(0,s.jsx)("td",{className:"py-3 px-4 text-white font-medium",children:e.user_username}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300 text-sm",children:e.user_email}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300 font-mono",children:e.friend_id}),(0,s.jsx)("td",{className:"py-3 px-4 text-white font-medium",children:e.friend_username}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300 text-sm",children:e.friend_email}),(0,s.jsx)("td",{className:"py-3 px-4",children:"accepted"===e.status?(0,s.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-medium",children:"å·²æŽ¥å—"}):(0,s.jsx)("span",{className:"px-3 py-1 bg-amber-500/20 text-amber-400 rounded-full text-xs font-medium",children:"å¾…è™•ç†"})}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-400 text-sm",children:I(e.created_at)})]},e.id))})]})})}),"battles"===G&&(0,s.jsx)("div",{className:"bg-[#1e293b] rounded-xl border border-slate-700 overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-slate-800/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"å°æˆ° ID"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"æ¨¡å¼"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"çŽ©å®¶ 1"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"Rating 1"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"çŽ©å®¶ 2"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"Rating 2"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"é–‹å§‹æ™‚é–“"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"æ“ä½œ"})]})}),(0,s.jsx)("tbody",{children:k.map((e,t)=>(0,s.jsxs)("tr",{className:`border-b border-slate-800 hover:bg-slate-800/30 ${t%2==0?"bg-slate-900/20":""}`,children:[(0,s.jsx)("td",{className:"py-3 px-4 text-slate-300 font-mono",children:e.id}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"ranked"===e.mode?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:"ranked"===e.mode?"ç©åˆ†":"ä¸€èˆ¬"})}),(0,s.jsxs)("td",{className:"py-3 px-4 text-white font-medium flex items-center gap-2",children:[(0,s.jsx)("img",{src:e.player1_avatar,className:"w-6 h-6 rounded-full"}),e.player1_name]}),(0,s.jsx)("td",{className:"py-3 px-4 text-amber-400 font-bold",children:e.player1_rating}),(0,s.jsxs)("td",{className:"py-3 px-4 text-white font-medium flex items-center gap-2",children:[(0,s.jsx)("img",{src:e.player2_avatar,className:"w-6 h-6 rounded-full"}),e.player2_name]}),(0,s.jsx)("td",{className:"py-3 px-4 text-amber-400 font-bold",children:e.player2_rating}),(0,s.jsx)("td",{className:"py-3 px-4 text-slate-400 text-sm",children:I(e.created_at)}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)("button",{onClick:()=>Z(e.id),className:"px-3 py-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg text-xs font-medium transition-colors",children:"åˆªé™¤"})})]},e.id))})]})})})]})]}):(0,s.jsx)("div",{className:"min-h-screen bg-[#0f172a] flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-[#1e293b] p-8 rounded-2xl border border-slate-700 shadow-2xl w-full max-w-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-red-500 rotate-45 flex items-center justify-center",children:(0,s.jsx)("span",{className:"-rotate-45 font-black text-white italic text-lg",children:"ç®¡"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"ç®¡ç†å“¡ç™»å…¥"})]}),(0,s.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ç®¡ç†å“¡å¯†ç¢¼"}),(0,s.jsx)("input",{type:"password",value:x,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors",placeholder:"è¼¸å…¥ç®¡ç†å“¡å¯†ç¢¼",autoFocus:!0})]}),p&&(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500 text-red-400 px-4 py-2 rounded-lg text-sm",children:p}),(0,s.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-red-600 hover:bg-red-500 disabled:bg-slate-700 text-white font-bold py-3 rounded-lg transition-colors",children:m?"é©—è­‰ä¸­...":"ç™»å…¥"})]}),(0,s.jsx)("button",{onClick:()=>e.push("/"),className:"w-full mt-4 text-slate-400 hover:text-white text-sm transition-colors",children:"è¿”å›žé¦–é "})]})})}e.s(["default",()=>i])}]);